<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PFL Academy - Chapter 1.4: Financial Goal Setting - Learning Lab</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        /* Core component styles */
        .learning-objectives {
            background-color: #e6f3ff;
            border-radius: 0.75rem;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.05), 0 2px 4px -1px rgba(0, 0, 0, 0.03);
            transition: all 0.3s ease;
        }
        
        .learning-objectives:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.08), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }
        
        .discussion-prompt {
            background-color: #e6f0ff;
            border-radius: 0.75rem;
            padding: 1.5rem;
            margin: 1.5rem 0;
            border-left: 4px solid #3b82f6;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.05), 0 2px 4px -1px rgba(0, 0, 0, 0.03);
            transition: all 0.3s ease;
        }
        
        .discussion-prompt:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.08), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }
        
        .audio-player {
            background-color: #f4f4f5;
            border-radius: 0.75rem;
            padding: 1rem;
            margin-bottom: 1.5rem;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.05), 0 2px 4px -1px rgba(0, 0, 0, 0.03);
        }
        
        /* Custom styles for specific components */
        .activity-timer {
            background: linear-gradient(to right, #eef2ff, #ede9fe);
            border-left: 4px solid #4f46e5;
            padding: 1rem;
            margin: 1rem 0;
            border-radius: 0.5rem;
        }
        
        .learning-station {
            border: 1px solid #e5e7eb;
            border-radius: 0.75rem;
            padding: 1.5rem;
            margin: 1.5rem 0;
            background-color: #ffffff;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.05), 0 2px 4px -1px rgba(0, 0, 0, 0.03);
            transition: all 0.3s ease;
        }
        
        .learning-station:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.08), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            background-image: linear-gradient(to bottom right, rgba(79, 70, 229, 0.02), rgba(124, 58, 237, 0.02));
        }
        
        .learning-station h3 {
            color: #4f46e5;
            margin-bottom: 0.75rem;
        }
        
        .station-number {
            display: inline-block;
            width: 2rem;
            height: 2rem;
            text-align: center;
            line-height: 2rem;
            background: linear-gradient(to right, #4f46e5, #6366f1);
            color: white;
            border-radius: 9999px;
            margin-right: 0.5rem;
            box-shadow: 0 2px 4px -1px rgba(79, 70, 229, 0.3);
        }
        
        .important-note {
            background-color: #fffbeb;
            border-left: 4px solid #f59e0b;
            padding: 1.5rem;
            margin: 1.5rem 0;
            border-radius: 0.5rem;
            transition: all 0.3s ease;
        }
        
        .important-note:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
        }
        
        .progress-bar {
            background-color: #e0e7ff;
            padding: 1rem;
            border-radius: 0.5rem;
            margin-top: 1rem;
            transition: all 0.3s ease;
        }
        
        /* Section headers with decorative elements */
        .section-title {
            position: relative;
            padding-bottom: 0.75rem;
            margin-bottom: 1.5rem;
        }
        
        .section-title::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 3px;
            background: linear-gradient(to right, #4f46e5, #8b5cf6);
            border-radius: 3px;
        }
        
        /* Day Toggle in sidebar */
        .day-toggle {
            display: flex;
            background-color: #f3f4f6;
            border-radius: 9999px;
            padding: 0.25rem;
            margin-bottom: 1rem;
            overflow: hidden;
        }
        
        .day-toggle-option {
            flex: 1;
            text-align: center;
            padding: 0.5rem 1rem;
            border-radius: 9999px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .day-toggle-option.active {
            background: linear-gradient(to right, #4f46e5, #6366f1);
            color: white;
            box-shadow: 0 2px 4px -1px rgba(0, 0, 0, 0.1);
        }
        
        /* Station indicators */
        .station-indicators {
            display: flex;
            justify-content: center;
            margin-bottom: 1.5rem;
        }
        
        .station-indicator {
            width: 0.75rem;
            height: 0.75rem;
            border-radius: 50%;
            background-color: #e5e7eb;
            margin: 0 0.25rem;
            transition: all 0.3s ease;
        }
        
        .station-indicator.active {
            background: linear-gradient(to right, #4f46e5, #6366f1);
            transform: scale(1.2);
        }
        
        /* Toast notifications */
        .toast-notification {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            background-color: #4f46e5;
            color: white;
            padding: 1rem 1.5rem;
            border-radius: 0.5rem;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            transform: translateY(150%);
            opacity: 0;
            transition: all 0.5s cubic-bezier(0.68, -0.55, 0.27, 1.55);
            z-index: 50;
        }
        
        .toast-notification.show {
            transform: translateY(0);
            opacity: 1;
        }
        
        /* Button styles */
        .pfl-button {
            background: linear-gradient(to right, #4f46e5, #6366f1);
            color: white;
            border-radius: 0.5rem;
            padding: 0.75rem 1.5rem;
            font-weight: 500;
            transition: all 0.3s ease;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
        }
        
        .pfl-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            filter: brightness(110%);
        }
        
        /* Smooth scrolling for anchor links */
        html {
            scroll-behavior: smooth;
        }
        
        /* Animations */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .animate-fade-in {
            animation: fadeIn 0.5s ease forwards;
        }
    </style>
</head>
<body class="bg-gray-50">
    <header class="bg-gradient-to-r from-indigo-700 to-purple-700 text-white p-4 shadow-md fixed top-0 left-0 right-0 z-40">
        <div class="container mx-auto flex justify-between items-center">
            <div class="flex items-center">
                <div class="flex justify-center items-center h-10 w-10 rounded bg-white/20 text-white font-bold">
                    PFL
                </div>
                <span class="ml-3 text-xl font-bold">PFL Academy</span>
            </div>
            <nav class="hidden md:flex space-x-8">
                <a href="#" class="text-white hover:text-indigo-200 transition-colors nav-link">Home</a>
                <a href="#" class="text-white hover:text-indigo-200 transition-colors nav-link">Curriculum</a>
                <a href="#" class="text-white hover:text-indigo-200 transition-colors nav-link">Resources</a>
                <a href="#" class="text-white hover:text-indigo-200 transition-colors nav-link">Profile</a>
            </nav>
            <!-- Mobile menu button -->
            <button class="md:hidden text-white focus:outline-none">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
                </svg>
            </button>
        </div>
    </header>
    <div class="h-20"></div>

    <div class="container mx-auto px-4 py-8 grid lg:grid-cols-10 gap-8">
        <!-- Sidebar Navigation -->
        <div class="lg:col-span-3 bg-white rounded-xl shadow-xl p-6 sticky top-20 h-screen overflow-y-auto border border-gray-200">
            <div id="standard-info">
                <h2 class="text-xl font-semibold text-gray-900 mb-4">Standard 1: Income and Money Management</h2>
                <p class="text-gray-600 mb-4">Understanding income sources, financial goals, and effective money management strategies.</p>
            </div>
            
            <!-- Chapter Navigation Title -->
            <div class="mb-4 font-semibold text-gray-500 text-sm px-1">
                CHAPTER NAVIGATION
            </div>
            
            <ul class="space-y-2" id="chapter-navigation">
                <!-- Chapters in Order -->
                <li>
                    <a href="chapter-1-1-day2.html" class="w-full flex items-center px-4 py-3 text-sm font-medium rounded-lg bg-green-50 text-green-700">
                        <span class="mr-3">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-green-500" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path>
                                <polyline points="22 4 12 14.01 9 11.01"></polyline>
                            </svg>
                        </span>
                        <span class="text-left">1.1: Jobs vs. Careers</span>
                    </a>
                </li>
                
                <li>
                    <a href="chapter-1-2-day2.html" class="w-full flex items-center px-4 py-3 text-sm font-medium rounded-lg bg-green-50 text-green-700">
                        <span class="mr-3">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-green-500" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path>
                                <polyline points="22 4 12 14.01 9 11.01"></polyline>
                            </svg>
                        </span>
                        <span class="text-left">1.2: Paying for Post-Secondary Education</span>
                    </a>
                </li>
                
                <li>
                    <a href="chapter-1-3-day2.html" class="w-full flex items-center px-4 py-3 text-sm font-medium rounded-lg bg-green-50 text-green-700">
                        <span class="mr-3">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-green-500" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path>
                                <polyline points="22 4 12 14.01 9 11.01"></polyline>
                            </svg>
                        </span>
                        <span class="text-left">1.3: Income and Taxes</span>
                    </a>
                </li>
                
                <!-- Chapter 1.4 (Current Chapter) -->
                <li class="mb-1">
                    <div class="w-full flex items-center px-4 py-3 text-sm font-medium rounded-t-lg bg-indigo-50 text-indigo-700">
                        <span class="mr-3">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-indigo-600" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <circle cx="12" cy="12" r="10"></circle>
                            </svg>
                        </span>
                        <span class="text-left">1.4: Financial Goal Setting</span>
                    </div>
                </li>
                
                <!-- Chapter 1.4 Day 1 (collapsed) -->
                <li class="ml-6 mb-1">
                    <a href="chapter-1-4-day1.html" class="w-full flex items-center px-4 py-2 text-sm font-medium rounded-lg text-gray-700 hover:bg-gray-50 hover:text-indigo-700 transition-colors">
                        <span class="mr-2">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 text-gray-500" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <polyline points="9 18 15 12 9 6"></polyline>
                            </svg>
                        </span>
                        <span>Day 1: Content Guide</span>
                    </a>
                </li>
                
                <!-- Chapter 1.4 Day 2 (expanded, current) -->
                <li class="ml-6">
                    <div class="w-full flex items-center px-4 py-2 text-sm font-medium rounded-lg bg-indigo-50 text-indigo-700 border-l-4 border-indigo-700">
                        <span class="mr-2">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 text-indigo-600" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <polyline points="6 9 12 15 18 9"></polyline>
                            </svg>
                        </span>
                        <span>Day 2: Learning Lab</span>
                    </div>
                    
                    <!-- Section Navigation for Current Chapter -->
                    <ul class="ml-6 mt-2 space-y-1" id="section-navigation">
                        <li>
                            <a href="#learning-objectives" class="text-indigo-700 font-medium flex items-center text-xs">
                                <span class="mr-2">•</span> Learning Objectives
                            </a>
                        </li>
                        <li>
                            <a href="#intro" class="text-gray-700 hover:text-indigo-700 flex items-center transition-colors text-xs">
                                <span class="mr-2">•</span> Introduction
                            </a>
                        </li>
                        <li>
                            <a href="#station1" class="text-gray-700 hover:text-indigo-700 flex items-center transition-colors text-xs">
                                <span class="mr-2">•</span> Station 1: Financial Goal Timeline Builder
                            </a>
                        </li>
                        <li>
                            <a href="#station2" class="text-gray-700 hover:text-indigo-700 flex items-center transition-colors text-xs">
                                <span class="mr-2">•</span> Station 2: Obstacle Course Challenge
                            </a>
                        </li>
                        <li>
                            <a href="#station3" class="text-gray-700 hover:text-indigo-700 flex items-center transition-colors text-xs">
                                <span class="mr-2">•</span> Station 3: Accountability System Designer
                            </a>
                        </li>
                        <li>
                            <a href="#portfolio" class="text-gray-700 hover:text-indigo-700 flex items-center transition-colors text-xs">
                                <span class="mr-2">•</span> Portfolio Integration
                            </a>
                        </li>
                        <li>
                            <a href="#reflection" class="text-gray-700 hover:text-indigo-700 flex items-center transition-colors text-xs">
                                <span class="mr-2">•</span> Reflection
                            </a>
                        </li>
                    </ul>
                </li>
                
                <li>
                    <a href="chapter-1-5-day2.html" class="w-full flex items-center px-4 py-3 text-sm font-medium rounded-lg text-gray-700 hover:bg-gray-50">
                        <span class="text-left">1.5: Managing Your Income Effectively</span>
                    </a>
                </li>
            </ul>
            
            <!-- Progress Tracker -->
            <div class="mt-8 bg-gradient-to-r from-indigo-100 to-purple-100 rounded-xl p-4 shadow-lg">
                <h3 class="text-lg font-semibold text-indigo-800 mb-2">Your Progress</h3>
                <div class="w-full bg-white/50 rounded-full h-2.5 mb-4">
                    <div class="bg-gradient-to-r from-indigo-600 to-purple-600 h-2.5 rounded-full" style="width: 0%"></div>
                </div>
                <p class="text-sm text-indigo-800">Completed: <span class="font-medium">0/3 stations</span></p>
                
                <!-- Station Indicators -->
                <div class="station-indicators mt-3">
                    <div class="station-indicator"></div>
                    <div class="station-indicator"></div>
                    <div class="station-indicator"></div>
                </div>
            </div>
            
            <!-- Return button removed as Day 1 link now exists in the navigation -->
        </div>

        <!-- Main Content -->
        <div class="lg:col-span-7 bg-white rounded-xl shadow-xl p-6 border border-gray-200">
            <h1 class="text-3xl font-bold text-gray-900 mb-2">Chapter 1.4: Financial Goal Setting - Learning Lab</h1>
            <p class="text-xl text-gray-600 mb-6">Apply practical strategies to create actionable financial goals with timelines, obstacles, and accountability systems.</p>
            
            <!-- Learning Objectives Section -->
            <div id="learning-objectives" class="learning-objectives">
                <h2 class="text-xl font-semibold text-gray-900 mb-3">Learning Objectives</h2>
                <p class="mb-2">By the end of this Learning Lab, you will be able to:</p>
                <ul class="list-disc list-inside space-y-1 text-gray-700">
                    <li>Analyze the strengths and weaknesses of your SMART goals</li>
                    <li>Create a visual timeline for achieving your financial goals</li>
                    <li>Develop strategies to overcome common obstacles to financial goals</li>
                    <li>Build accountability systems to stay on track</li>
                    <li>Compile all elements into a comprehensive Financial Goals Portfolio</li>
                </ul>
            </div>
            
            <!-- Introduction Section -->
            <section id="intro">
                <h2 class="text-2xl font-bold text-gray-900 section-title">Introduction</h2>
                <p class="text-gray-700 mb-4">Today, we'll build on the SMART financial goals you created in Day 1, developing practical tools and strategies to help you achieve those goals. This lab is designed to transform your goal statements into actionable plans with clear steps, timelines, and accountability measures.</p>
                
                <!-- Important Note -->
                <div class="important-note">
                    <h3 class="font-semibold text-yellow-800">Important Note</h3>
                    <p class="text-gray-700">In today's learning lab, we'll focus on turning theory into practice by creating concrete tools for your financial goals. You'll leave with a complete Financial Goals Portfolio that you can use immediately.</p>
                </div>
                
                <!-- Day 1 Connection -->
                <div class="mt-4 bg-indigo-50 p-4 rounded-lg border-l-4 border-indigo-500">
                    <h3 class="text-lg font-semibold text-indigo-800 mb-2">Connection to Day 1</h3>
                    <p class="text-gray-700 mb-3">Today builds directly on what you learned yesterday about financial goal setting:</p>
                    <ul class="list-disc list-inside text-gray-700 ml-2">
                        <li>The SMART framework (Specific, Measurable, Achievable, Relevant, Time-bound)</li>
                        <li>Differences between short-term and long-term financial goals</li>
                        <li>Prioritization techniques for multiple financial goals</li>
                        <li>The importance of tracking progress toward your goals</li>
                    </ul>
                </div>
                
                <!-- Podcast Review Section -->
                <div class="bg-indigo-50 p-5 rounded-lg my-5">
                    <h3 class="font-bold text-gray-900 mb-2">Podcast Review: Financial Goal Setting</h3>
                    <p class="text-gray-700 mb-4">Listen to this podcast to review key concepts from Day 1 before you begin today's activities.</p>
                    
                    <div class="bg-white rounded-lg p-4">
                        <audio controls class="w-full mb-2">
                            <source src="/Users/justin/pfl-academy/finished LM recordings/1.4 - Fincancial Goal Setting.wav" type="audio/wav">
                            Your browser does not support the audio element.
                        </audio>
                        <div class="text-sm text-gray-500">
                            <p>Topics covered: SMART goal framework, short vs. long-term planning, goal prioritization, tracking progress</p>
                        </div>
                    </div>
                </div>
                
                <p class="text-gray-700 my-4">Today we'll take the SMART goals you created yesterday and transform them into actionable plans. In the following learning stations, you'll develop timelines, identify potential obstacles, and create accountability systems to help ensure your success.</p>
                
                <div class="bg-blue-50 p-4 rounded-lg my-6">
                    <h3 class="font-bold text-blue-800 mb-2">Your SMART Goals from Day 1:</h3>
                    
                    <div class="mb-4">
                        <h4 class="font-medium text-gray-900">Short-Term Goal:</h4>
                        <p id="short-term-goal" class="p-3 bg-white rounded border border-gray-200">"I will save $800 for a new laptop by saving $100 per month for 8 months, tracking my progress in a savings app."</p>
                    </div>
                    
                    <div>
                        <h4 class="font-medium text-gray-900">Long-Term Goal:</h4>
                        <p id="long-term-goal" class="p-3 bg-white rounded border border-gray-200">"I will save $5,000 for a used car by saving $150 per month for 33 months, and will research car options during this time."</p>
                    </div>
                </div>
            </section>
            
            <!-- Learning Stations -->
            <!-- Station 1: Financial Goal Timeline Builder -->
            <section id="station1" class="learning-station mt-12">
                <div class="flex items-center mb-4">
                    <span class="station-number">1</span>
                    <h2 class="text-2xl font-bold text-indigo-700">Financial Goal Timeline Builder</h2>
                </div>
                
                <div class="activity-timer mb-4">
                    <div class="flex items-center">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2 text-indigo-700" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
                        </svg>
                        <p class="text-sm font-medium text-indigo-700">Estimated time: 15-20 minutes</p>
                    </div>
                </div>
                
                <p class="text-gray-700 mb-4">Create a visual timeline for your short-term and long-term goals, including key milestones, regular check-in points, and specific actions required at each stage.</p>
                
                <div class="bg-white p-6 rounded-lg shadow-md">
                    <div class="mb-6">
                        <h3 class="font-bold text-gray-900 mb-3">Short-Term Goal Timeline:</h3>
                        
                        <div class="bg-white p-6 pb-8 rounded-lg mb-6 sticky top-24 border-b border-gray-200 z-30">
                            <!-- Timeline visualization -->
                            <div class="w-full h-8 bg-gray-200 rounded-full relative mt-8">
                                <!-- Timeline labels -->
                                <div class="absolute w-full flex justify-between px-2" style="top: -25px">
                                    <span class="text-xs text-gray-600">Start</span>
                                    <span class="text-xs text-gray-600">2 months</span>
                                    <span class="text-xs text-gray-600">4 months</span>
                                    <span class="text-xs text-gray-600">6 months</span>
                                    <span class="text-xs text-gray-600">8 months</span>
                                </div>
                                
                                <!-- Progress bar (positioned first so it's under the milestone markers) -->
                                <div class="h-full bg-indigo-500 rounded-full absolute top-0 left-0" style="width: 0%; z-index: 1"></div>
                                
                                <!-- Milestone markers (positioned centered within the timeline) -->
                                <div class="absolute h-6 w-6 rounded-full bg-indigo-500 text-white flex items-center justify-center top-1 left-0 cursor-pointer" style="z-index: 2; transform: translateX(-3px)" data-milestone="0">1</div>
                                <div class="absolute h-6 w-6 rounded-full bg-gray-400 text-white flex items-center justify-center top-1 cursor-pointer" style="z-index: 2; left: 25%" data-milestone="1">2</div>
                                <div class="absolute h-6 w-6 rounded-full bg-gray-400 text-white flex items-center justify-center top-1 cursor-pointer" style="z-index: 2; left: 50%" data-milestone="2">3</div>
                                <div class="absolute h-6 w-6 rounded-full bg-gray-400 text-white flex items-center justify-center top-1 cursor-pointer" style="z-index: 2; left: 75%" data-milestone="3">4</div>
                                <div class="absolute h-6 w-6 rounded-full bg-gray-400 text-white flex items-center justify-center top-1 right-0 cursor-pointer" style="z-index: 2; transform: translateX(3px)" data-milestone="4">5</div>
                            </div>
                        </div>
                        
                        <div id="milestone-details" class="bg-white p-6 rounded-lg border border-gray-200 mb-6 shadow-sm">
                            <!-- Timeframe 1: Start -->
                            <div id="milestone-0" class="milestone-section mb-6 border-b border-gray-100 pb-4">
                                <h4 class="font-bold text-indigo-800 mb-4 text-lg">Milestone 1: Getting Started</h4>
                                
                                <div class="space-y-4">
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-1">Milestone Date:</label>
                                        <input type="date" data-milestone="0" data-field="date" class="w-full p-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500">
                                    </div>
                                    
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-1">Target Amount at This Milestone:</label>
                                        <div class="relative mt-1 rounded-md shadow-sm">
                                            <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                                                <span class="text-gray-500 sm:text-sm">$</span>
                                            </div>
                                            <input type="text" data-milestone="0" data-field="amount" class="w-full p-2 pl-7 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500" placeholder="0.00">
                                        </div>
                                    </div>
                                    
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-1">Actions Needed:</label>
                                        <div class="space-y-2">
                                            <div>
                                                <input type="text" data-milestone="0" data-field="action1" class="w-full p-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500" placeholder="Action 1">
                                            </div>
                                            <div>
                                                <input type="text" data-milestone="0" data-field="action2" class="w-full p-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500" placeholder="Action 2">
                                            </div>
                                            <button class="text-sm text-indigo-600 hover:text-indigo-800 font-medium flex items-center mt-1">
                                                <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-1" viewBox="0 0 20 20" fill="currentColor">
                                                    <path fill-rule="evenodd" d="M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z" clip-rule="evenodd" />
                                                </svg>
                                                Add action
                                            </button>
                                        </div>
                                    </div>
                                    
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-1">Check-in Method:</label>
                                        <select data-milestone="0" data-field="checkin" class="w-full p-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500">
                                            <option>Weekly review</option>
                                            <option>Bi-weekly check</option>
                                            <option>Monthly assessment</option>
                                            <option>Custom...</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Milestone 1: Getting Started -->
                            <div id="milestone-0" class="milestone-section mb-6 border-b border-gray-100 pb-4">
                                <h4 class="font-bold text-indigo-800 mb-4 text-lg">Milestone 1: Getting Started</h4>
                                
                                <div class="space-y-4">
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-1">Milestone Date:</label>
                                        <input type="date" data-milestone="0" data-field="date" class="w-full p-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500">
                                    </div>
                                    
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-1">Target Amount at This Milestone:</label>
                                        <div class="relative mt-1 rounded-md shadow-sm">
                                            <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                                                <span class="text-gray-500 sm:text-sm">$</span>
                                            </div>
                                            <input type="text" data-milestone="0" data-field="amount" class="w-full p-2 pl-7 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500" placeholder="0.00">
                                        </div>
                                    </div>
                                    
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-1">Actions Needed:</label>
                                        <div class="space-y-2">
                                            <div>
                                                <input type="text" data-milestone="0" data-field="action1" class="w-full p-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500" placeholder="Action 1">
                                            </div>
                                            <div>
                                                <input type="text" data-milestone="0" data-field="action2" class="w-full p-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500" placeholder="Action 2">
                                            </div>
                                            <button class="text-sm text-indigo-600 hover:text-indigo-800 font-medium flex items-center mt-1" id="add-action-btn-0">
                                                <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-1" viewBox="0 0 20 20" fill="currentColor">
                                                    <path fill-rule="evenodd" d="M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z" clip-rule="evenodd" />
                                                </svg>
                                                Add action
                                            </button>
                                        </div>
                                    </div>
                                    
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-1">Check-in Method:</label>
                                        <select data-milestone="0" data-field="checkin" class="w-full p-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500">
                                            <option>Weekly review</option>
                                            <option>Bi-weekly check</option>
                                            <option>Monthly assessment</option>
                                            <option>Custom...</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Timeframe 2: 2 Months -->
                            <div id="milestone-1" class="milestone-section mb-6 border-b border-gray-100 pb-4">
                                <h4 class="font-bold text-indigo-800 mb-4 text-lg">Milestone 2: 2 Month Checkpoint</h4>
                                
                                <div class="space-y-4">
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-1">Milestone Date:</label>
                                        <input type="date" data-milestone="1" data-field="date" class="w-full p-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500">
                                    </div>
                                    
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-1">Target Amount at This Milestone:</label>
                                        <div class="relative mt-1 rounded-md shadow-sm">
                                            <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                                                <span class="text-gray-500 sm:text-sm">$</span>
                                            </div>
                                            <input type="text" data-milestone="1" data-field="amount" class="w-full p-2 pl-7 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500" placeholder="0.00">
                                        </div>
                                    </div>
                                    
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-1">Actions Needed:</label>
                                        <div class="space-y-2">
                                            <div>
                                                <input type="text" data-milestone="1" data-field="action1" class="w-full p-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500" placeholder="Action 1">
                                            </div>
                                            <div>
                                                <input type="text" data-milestone="1" data-field="action2" class="w-full p-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500" placeholder="Action 2">
                                            </div>
                                            <button class="text-sm text-indigo-600 hover:text-indigo-800 font-medium flex items-center mt-1" id="add-action-btn-1">
                                                <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-1" viewBox="0 0 20 20" fill="currentColor">
                                                    <path fill-rule="evenodd" d="M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z" clip-rule="evenodd" />
                                                </svg>
                                                Add action
                                            </button>
                                        </div>
                                    </div>
                                    
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-1">Check-in Method:</label>
                                        <select data-milestone="1" data-field="checkin" class="w-full p-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500">
                                            <option>Weekly review</option>
                                            <option>Bi-weekly check</option>
                                            <option>Monthly assessment</option>
                                            <option>Custom...</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Timeframe 3: 4 Months -->
                            <div id="milestone-2" class="milestone-section mb-6 border-b border-gray-100 pb-4">
                                <h4 class="font-bold text-indigo-800 mb-4 text-lg">Milestone 3: 4 Month Checkpoint</h4>
                                
                                <div class="space-y-4">
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-1">Milestone Date:</label>
                                        <input type="date" data-milestone="2" data-field="date" class="w-full p-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500">
                                    </div>
                                    
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-1">Target Amount at This Milestone:</label>
                                        <div class="relative mt-1 rounded-md shadow-sm">
                                            <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                                                <span class="text-gray-500 sm:text-sm">$</span>
                                            </div>
                                            <input type="text" data-milestone="2" data-field="amount" class="w-full p-2 pl-7 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500" placeholder="0.00">
                                        </div>
                                    </div>
                                    
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-1">Actions Needed:</label>
                                        <div class="space-y-2">
                                            <div>
                                                <input type="text" data-milestone="2" data-field="action1" class="w-full p-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500" placeholder="Action 1">
                                            </div>
                                            <div>
                                                <input type="text" data-milestone="2" data-field="action2" class="w-full p-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500" placeholder="Action 2">
                                            </div>
                                            <button class="text-sm text-indigo-600 hover:text-indigo-800 font-medium flex items-center mt-1" id="add-action-btn-2">
                                                <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-1" viewBox="0 0 20 20" fill="currentColor">
                                                    <path fill-rule="evenodd" d="M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z" clip-rule="evenodd" />
                                                </svg>
                                                Add action
                                            </button>
                                        </div>
                                    </div>
                                    
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-1">Check-in Method:</label>
                                        <select data-milestone="2" data-field="checkin" class="w-full p-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500">
                                            <option>Weekly review</option>
                                            <option>Bi-weekly check</option>
                                            <option>Monthly assessment</option>
                                            <option>Custom...</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Timeframe 4: 6 Months -->
                            <div id="milestone-3" class="milestone-section mb-6 border-b border-gray-100 pb-4">
                                <h4 class="font-bold text-indigo-800 mb-4 text-lg">Milestone 4: 6 Month Checkpoint</h4>
                                
                                <div class="space-y-4">
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-1">Milestone Date:</label>
                                        <input type="date" data-milestone="3" data-field="date" class="w-full p-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500">
                                    </div>
                                    
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-1">Target Amount at This Milestone:</label>
                                        <div class="relative mt-1 rounded-md shadow-sm">
                                            <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                                                <span class="text-gray-500 sm:text-sm">$</span>
                                            </div>
                                            <input type="text" data-milestone="3" data-field="amount" class="w-full p-2 pl-7 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500" placeholder="0.00">
                                        </div>
                                    </div>
                                    
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-1">Actions Needed:</label>
                                        <div class="space-y-2">
                                            <div>
                                                <input type="text" data-milestone="3" data-field="action1" class="w-full p-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500" placeholder="Action 1">
                                            </div>
                                            <div>
                                                <input type="text" data-milestone="3" data-field="action2" class="w-full p-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500" placeholder="Action 2">
                                            </div>
                                            <button class="text-sm text-indigo-600 hover:text-indigo-800 font-medium flex items-center mt-1" id="add-action-btn-3">
                                                <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-1" viewBox="0 0 20 20" fill="currentColor">
                                                    <path fill-rule="evenodd" d="M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z" clip-rule="evenodd" />
                                                </svg>
                                                Add action
                                            </button>
                                        </div>
                                    </div>
                                    
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-1">Check-in Method:</label>
                                        <select data-milestone="3" data-field="checkin" class="w-full p-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500">
                                            <option>Weekly review</option>
                                            <option>Bi-weekly check</option>
                                            <option>Monthly assessment</option>
                                            <option>Custom...</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Timeframe 5: 8 Months -->
                            <div id="milestone-4" class="milestone-section">
                                <h4 class="font-bold text-indigo-800 mb-4 text-lg">Milestone 5: Goal Completion</h4>
                                
                                <div class="space-y-4">
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-1">Milestone Date:</label>
                                        <input type="date" data-milestone="4" data-field="date" class="w-full p-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500">
                                    </div>
                                    
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-1">Target Amount at This Milestone:</label>
                                        <div class="relative mt-1 rounded-md shadow-sm">
                                            <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                                                <span class="text-gray-500 sm:text-sm">$</span>
                                            </div>
                                            <input type="text" data-milestone="4" data-field="amount" class="w-full p-2 pl-7 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500" placeholder="0.00">
                                        </div>
                                    </div>
                                    
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-1">Actions Needed:</label>
                                        <div class="space-y-2">
                                            <div>
                                                <input type="text" data-milestone="4" data-field="action1" class="w-full p-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500" placeholder="Action 1">
                                            </div>
                                            <div>
                                                <input type="text" data-milestone="4" data-field="action2" class="w-full p-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500" placeholder="Action 2">
                                            </div>
                                            <button class="text-sm text-indigo-600 hover:text-indigo-800 font-medium flex items-center mt-1" id="add-action-btn-4">
                                                <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-1" viewBox="0 0 20 20" fill="currentColor">
                                                    <path fill-rule="evenodd" d="M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z" clip-rule="evenodd" />
                                                </svg>
                                                Add action
                                            </button>
                                        </div>
                                    </div>
                                    
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-1">Check-in Method:</label>
                                        <select data-milestone="4" data-field="checkin" class="w-full p-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500">
                                            <option>Weekly review</option>
                                            <option>Bi-weekly check</option>
                                            <option>Monthly assessment</option>
                                            <option>Custom...</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="mb-6">
                        <h3 class="font-bold text-gray-900 mb-3">Long-Term Goal Timeline:</h3>
                        
                        <div class="bg-white p-6 pb-8 rounded-lg mb-6 sticky top-24 border-b border-gray-200 z-30">
                            <!-- Timeline visualization -->
                            <div class="w-full h-8 bg-gray-200 rounded-full relative mt-8">
                                <!-- Timeline labels -->
                                <div class="absolute w-full flex justify-between px-2" style="top: -25px">
                                    <span class="text-xs text-gray-600">Start</span>
                                    <span class="text-xs text-gray-600">Year 1</span>
                                    <span class="text-xs text-gray-600">Year 2</span>
                                    <span class="text-xs text-gray-600">Year 2.5</span>
                                    <span class="text-xs text-gray-600">End</span>
                                </div>
                                
                                <!-- Progress bar (positioned first so it's under the milestone markers) -->
                                <div class="h-full bg-purple-500 rounded-full absolute top-0 left-0" style="width: 0%; z-index: 1"></div>
                                
                                <!-- Milestone markers (positioned centered within the timeline) -->
                                <div class="absolute h-6 w-6 rounded-full bg-purple-500 text-white flex items-center justify-center top-1 left-0 cursor-pointer" style="z-index: 2; transform: translateX(-3px)" data-milestone-long="0">1</div>
                                <div class="absolute h-6 w-6 rounded-full bg-gray-400 text-white flex items-center justify-center top-1 cursor-pointer" style="z-index: 2; left: 25%" data-milestone-long="1">2</div>
                                <div class="absolute h-6 w-6 rounded-full bg-gray-400 text-white flex items-center justify-center top-1 cursor-pointer" style="z-index: 2; left: 50%" data-milestone-long="2">3</div>
                                <div class="absolute h-6 w-6 rounded-full bg-gray-400 text-white flex items-center justify-center top-1 cursor-pointer" style="z-index: 2; left: 75%" data-milestone-long="3">4</div>
                                <div class="absolute h-6 w-6 rounded-full bg-gray-400 text-white flex items-center justify-center top-1 right-0 cursor-pointer" style="z-index: 2; transform: translateX(3px)" data-milestone-long="4">5</div>
                            </div>
                        </div>
                        
                        <div id="milestone-details-long" class="bg-white p-6 rounded-lg border border-gray-200 mb-6 shadow-sm">
                            <h4 class="font-bold text-purple-800 mb-4 text-lg border-b border-gray-100 pb-2">Milestone 1: Getting Started</h4>
                            
                            <div class="space-y-4">
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-1">Milestone Date:</label>
                                    <input type="date" data-milestone-long="0" data-field="date" class="w-full p-2 border border-gray-300 rounded-md focus:ring-purple-500 focus:border-purple-500">
                                </div>
                                
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-1">Target Amount at This Milestone:</label>
                                    <div class="relative mt-1 rounded-md shadow-sm">
                                        <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                                            <span class="text-gray-500 sm:text-sm">$</span>
                                        </div>
                                        <input type="text" data-milestone-long="0" data-field="amount" class="w-full p-2 pl-7 border border-gray-300 rounded-md focus:ring-purple-500 focus:border-purple-500" placeholder="0.00">
                                    </div>
                                </div>
                                
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-1">Actions Needed:</label>
                                    <div class="space-y-2">
                                        <div>
                                            <input type="text" data-milestone-long="0" data-field="action1" class="w-full p-2 border border-gray-300 rounded-md focus:ring-purple-500 focus:border-purple-500" placeholder="Action 1">
                                        </div>
                                        <div>
                                            <input type="text" data-milestone-long="0" data-field="action2" class="w-full p-2 border border-gray-300 rounded-md focus:ring-purple-500 focus:border-purple-500" placeholder="Action 2">
                                        </div>
                                        <button class="text-sm text-purple-600 hover:text-purple-800 font-medium flex items-center mt-1">
                                            <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-1" viewBox="0 0 20 20" fill="currentColor">
                                                <path fill-rule="evenodd" d="M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z" clip-rule="evenodd" />
                                            </svg>
                                            Add action
                                        </button>
                                    </div>
                                </div>
                                
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-1">Check-in Method:</label>
                                    <select data-milestone-long="0" data-field="checkin" class="w-full p-2 border border-gray-300 rounded-md focus:ring-purple-500 focus:border-purple-500">
                                        <option>Monthly review</option>
                                        <option>Quarterly check</option>
                                        <option>Bi-annual assessment</option>
                                        <option>Custom...</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="text-right">
                        <button class="pfl-button" onclick="saveStation(1)">
                            Save Timeline
                        </button>
                    </div>
                </div>
            </section>
            
            <!-- Station 2: Obstacle Course Challenge -->
            <section id="station2" class="learning-station mt-12">
                <div class="flex items-center mb-4">
                    <span class="station-number">2</span>
                    <h2 class="text-2xl font-bold text-indigo-700">Obstacle Course Challenge</h2>
                </div>
                
                <div class="activity-timer mb-4">
                    <div class="flex items-center">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2 text-indigo-700" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
                        </svg>
                        <p class="text-sm font-medium text-indigo-700">Estimated time: 15 minutes</p>
                    </div>
                </div>
                
                <p class="text-gray-700 mb-4">Identify three potential obstacles for each of your financial goals and develop specific strategies to overcome them.</p>
                
                <div class="bg-white p-6 rounded-lg shadow-md">
                    <div class="mb-6">
                        <h3 class="font-bold text-gray-900 mb-3">Short-Term Goal Obstacles:</h3>
                        
                        <div class="bg-white p-4 rounded-lg border border-gray-200 mb-4">
                            <table class="w-full">
                                <thead>
                                    <tr class="border-b border-gray-200">
                                        <th class="text-left py-2 text-gray-700">Potential Obstacle</th>
                                        <th class="text-left py-2 text-gray-700">Impact Level</th>
                                        <th class="text-left py-2 text-gray-700">Strategy to Overcome</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr class="border-b border-gray-200">
                                        <td class="py-2">
                                            <input type="text" class="input-field" placeholder="Obstacle 1">
                                        </td>
                                        <td class="py-2">
                                            <select class="input-field">
                                                <option>Low</option>
                                                <option selected>Medium</option>
                                                <option>High</option>
                                            </select>
                                        </td>
                                        <td class="py-2">
                                            <input type="text" class="input-field" placeholder="Strategy 1">
                                        </td>
                                    </tr>
                                    <tr class="border-b border-gray-200">
                                        <td class="py-2">
                                            <input type="text" class="input-field" placeholder="Obstacle 2">
                                        </td>
                                        <td class="py-2">
                                            <select class="input-field">
                                                <option>Low</option>
                                                <option>Medium</option>
                                                <option>High</option>
                                            </select>
                                        </td>
                                        <td class="py-2">
                                            <input type="text" class="input-field" placeholder="Strategy 2">
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="py-2">
                                            <input type="text" class="input-field" placeholder="Obstacle 3">
                                        </td>
                                        <td class="py-2">
                                            <select class="input-field">
                                                <option>Low</option>
                                                <option>Medium</option>
                                                <option>High</option>
                                            </select>
                                        </td>
                                        <td class="py-2">
                                            <input type="text" class="input-field" placeholder="Strategy 3">
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        
                        <div class="bg-yellow-50 p-3 rounded-lg text-sm">
                            <p class="text-yellow-800"><strong>Tip:</strong> Common obstacles include unexpected expenses, income changes, competing priorities, forgetting to save, and impulse spending.</p>
                        </div>
                    </div>
                    
                    <div class="mb-6">
                        <h3 class="font-bold text-gray-900 mb-3">Long-Term Goal Obstacles:</h3>
                        
                        <div class="bg-white p-4 rounded-lg border border-gray-200 mb-4">
                            <table class="w-full">
                                <thead>
                                    <tr class="border-b border-gray-200">
                                        <th class="text-left py-2 text-gray-700">Potential Obstacle</th>
                                        <th class="text-left py-2 text-gray-700">Impact Level</th>
                                        <th class="text-left py-2 text-gray-700">Strategy to Overcome</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr class="border-b border-gray-200">
                                        <td class="py-2">
                                            <input type="text" class="input-field" placeholder="Obstacle 1">
                                        </td>
                                        <td class="py-2">
                                            <select class="input-field">
                                                <option>Low</option>
                                                <option>Medium</option>
                                                <option selected>High</option>
                                            </select>
                                        </td>
                                        <td class="py-2">
                                            <input type="text" class="input-field" placeholder="Strategy 1">
                                        </td>
                                    </tr>
                                    <tr class="border-b border-gray-200">
                                        <td class="py-2">
                                            <input type="text" class="input-field" placeholder="Obstacle 2">
                                        </td>
                                        <td class="py-2">
                                            <select class="input-field">
                                                <option>Low</option>
                                                <option selected>Medium</option>
                                                <option>High</option>
                                            </select>
                                        </td>
                                        <td class="py-2">
                                            <input type="text" class="input-field" placeholder="Strategy 2">
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="py-2">
                                            <input type="text" class="input-field" placeholder="Obstacle 3">
                                        </td>
                                        <td class="py-2">
                                            <select class="input-field">
                                                <option selected>Low</option>
                                                <option>Medium</option>
                                                <option>High</option>
                                            </select>
                                        </td>
                                        <td class="py-2">
                                            <input type="text" class="input-field" placeholder="Strategy 3">
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        
                        <div class="bg-yellow-50 p-3 rounded-lg text-sm">
                            <p class="text-yellow-800"><strong>Tip:</strong> Long-term obstacles may include life changes, shifting priorities, economic changes, or major unexpected expenses like medical bills.</p>
                        </div>
                    </div>
                    
                    <div class="mb-6">
                        <h3 class="font-bold text-gray-900 mb-2">Resilience Planning:</h3>
                        <p class="text-gray-700 mb-3">What will you do if you encounter multiple obstacles at once or fall behind on your goal timeline?</p>
                        <textarea class="w-full p-2 border border-gray-300 rounded-md" rows="3" placeholder="Describe your backup plan or emergency strategies..."></textarea>
                    </div>
                    
                    <div class="text-right">
                        <button class="pfl-button" onclick="saveStation(2)">
                            Save Obstacle Strategies
                        </button>
                    </div>
                </div>
            </section>
            
            <!-- Station 3: Accountability System Designer -->
            <section id="station3" class="learning-station mt-12">
                <div class="flex items-center mb-4">
                    <span class="station-number">3</span>
                    <h2 class="text-2xl font-bold text-indigo-700">Accountability System Designer</h2>
                </div>
                
                <div class="activity-timer mb-4">
                    <div class="flex items-center">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2 text-indigo-700" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
                        </svg>
                        <p class="text-sm font-medium text-indigo-700">Estimated time: 15 minutes</p>
                    </div>
                </div>
                
                <p class="text-gray-700 mb-4">Design your personal accountability system by selecting tracking tools, identifying accountability partners, creating review checkpoints, and establishing rewards for milestone achievements.</p>
                
                <div class="bg-white p-6 rounded-lg shadow-md">
                    <div class="grid md:grid-cols-2 gap-6 mb-6">
                        <div>
                            <h3 class="font-bold text-gray-900 mb-3">Tracking Tools:</h3>
                            <p class="text-gray-700 mb-2">Select the tools you'll use to track your progress:</p>
                            
                            <div class="space-y-2">
                                <div class="flex items-center">
                                    <input type="checkbox" id="tool-1" class="mr-2">
                                    <label for="tool-1" class="text-gray-700">Mobile budgeting app</label>
                                </div>
                                <div class="flex items-center">
                                    <input type="checkbox" id="tool-2" class="mr-2">
                                    <label for="tool-2" class="text-gray-700">Spreadsheet tracker</label>
                                </div>
                                <div class="flex items-center">
                                    <input type="checkbox" id="tool-3" class="mr-2">
                                    <label for="tool-3" class="text-gray-700">Physical journal or planner</label>
                                </div>
                                <div class="flex items-center">
                                    <input type="checkbox" id="tool-4" class="mr-2">
                                    <label for="tool-4" class="text-gray-700">Calendar reminders</label>
                                </div>
                                <div class="flex items-center">
                                    <input type="checkbox" id="tool-5" class="mr-2">
                                    <label for="tool-5" class="text-gray-700">Visual progress chart</label>
                                </div>
                                <div class="flex items-center">
                                    <input type="checkbox" id="tool-6" class="mr-2">
                                    <input type="text" class="input-field" placeholder="Other tool...">
                                </div>
                            </div>
                        </div>
                        
                        <div>
                            <h3 class="font-bold text-gray-900 mb-3">Accountability Partners:</h3>
                            <p class="text-gray-700 mb-2">Who will help keep you accountable?</p>
                            
                            <div class="space-y-3">
                                <div>
                                    <label class="block text-gray-700 text-sm mb-1">Partner 1:</label>
                                    <input type="text" class="input-field" placeholder="Name">
                                    <select class="input-field mt-1">
                                        <option>Weekly check-in</option>
                                        <option>Monthly review</option>
                                        <option>As needed</option>
                                        <option>Other</option>
                                    </select>
                                </div>
                                
                                <div>
                                    <label class="block text-gray-700 text-sm mb-1">Partner 2 (optional):</label>
                                    <input type="text" class="input-field" placeholder="Name">
                                    <select class="input-field mt-1">
                                        <option>Weekly check-in</option>
                                        <option>Monthly review</option>
                                        <option>As needed</option>
                                        <option>Other</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="mb-6">
                        <h3 class="font-bold text-gray-900 mb-3">Review Schedule:</h3>
                        <p class="text-gray-700 mb-2">Set regular times to review your progress:</p>
                        
                        <div class="grid md:grid-cols-2 gap-4">
                            <div>
                                <h4 class="font-medium text-gray-800 mb-2">Short-Term Goal Reviews:</h4>
                                <div class="space-y-2">
                                    <div class="flex items-center">
                                        <input type="checkbox" id="short-review-1" class="mr-2" checked>
                                        <label for="short-review-1" class="text-gray-700">Weekly mini-review (10 min)</label>
                                    </div>
                                    <div class="flex items-center">
                                        <input type="checkbox" id="short-review-2" class="mr-2">
                                        <label for="short-review-2" class="text-gray-700">Monthly detailed review (30 min)</label>
                                    </div>
                                    <div class="flex items-center">
                                        <input type="checkbox" id="short-review-3" class="mr-2">
                                        <input type="text" class="input-field" placeholder="Custom review schedule...">
                                    </div>
                                </div>
                            </div>
                            
                            <div>
                                <h4 class="font-medium text-gray-800 mb-2">Long-Term Goal Reviews:</h4>
                                <div class="space-y-2">
                                    <div class="flex items-center">
                                        <input type="checkbox" id="long-review-1" class="mr-2">
                                        <label for="long-review-1" class="text-gray-700">Monthly check-in (15 min)</label>
                                    </div>
                                    <div class="flex items-center">
                                        <input type="checkbox" id="long-review-2" class="mr-2" checked>
                                        <label for="long-review-2" class="text-gray-700">Quarterly detailed review (1 hour)</label>
                                    </div>
                                    <div class="flex items-center">
                                        <input type="checkbox" id="long-review-3" class="mr-2">
                                        <input type="text" class="input-field" placeholder="Custom review schedule...">
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="mb-6">
                        <h3 class="font-bold text-gray-900 mb-3">Milestone Rewards:</h3>
                        <p class="text-gray-700 mb-2">Plan celebrations or rewards for reaching milestones:</p>
                        
                        <div class="space-y-3">
                            <div>
                                <label class="block text-gray-700 text-sm mb-1">25% Progress Reward:</label>
                                <input type="text" class="input-field" placeholder="How will you celebrate this milestone?">
                            </div>
                            
                            <div>
                                <label class="block text-gray-700 text-sm mb-1">50% Progress Reward:</label>
                                <input type="text" class="input-field" placeholder="How will you celebrate this milestone?">
                            </div>
                            
                            <div>
                                <label class="block text-gray-700 text-sm mb-1">75% Progress Reward:</label>
                                <input type="text" class="input-field" placeholder="How will you celebrate this milestone?">
                            </div>
                            
                            <div>
                                <label class="block text-gray-700 text-sm mb-1">Goal Completion Celebration:</label>
                                <input type="text" class="input-field" placeholder="How will you celebrate achieving your goal?">
                            </div>
                        </div>
                        
                        <div class="bg-yellow-50 p-3 rounded-lg text-sm mt-3">
                            <p class="text-yellow-800"><strong>Tip:</strong> Choose rewards that don't undermine your financial goals. Consider non-monetary rewards like special activities, time with friends, or experiences.</p>
                        </div>
                    </div>
                    
                    <div class="text-right">
                        <button class="pfl-button" onclick="saveStation(3)">
                            Save Accountability System
                        </button>
                    </div>
                </div>
            </section>
            
            <!-- Portfolio Integration Section -->
            <section id="portfolio" class="mt-12">
                <h2 class="text-2xl font-bold text-gray-900 section-title">Portfolio Integration</h2>
                <p class="text-gray-700 mb-4">Now that you've completed all stations, it's time to integrate your work into a comprehensive portfolio.</p>
                
                <div class="bg-indigo-50 p-6 rounded-lg">
                    <h3 class="text-xl font-semibold text-indigo-900 mb-4">Financial Goals Portfolio</h3>
                    <p class="text-gray-700 mb-4">Your portfolio combines all elements from today's Learning Lab into a cohesive plan:</p>
                    
                    <ul class="list-disc list-inside mb-4 text-gray-700">
                        <li>Refined SMART goals with improved specificity and measurement</li>
                        <li>Visual timeline with key milestones and check-in points</li>
                        <li>Obstacle identification with specific countermeasures</li>
                        <li>Customized accountability system with tracking tools</li>
                        <li>Reward schedule to maintain motivation</li>
                    </ul>
                    
                    <p class="text-gray-700 mb-4">Review each section to ensure alignment across your entire plan.</p>
                    
                    <div class="mb-4">
                        <label class="block text-gray-700 font-medium mb-2">Portfolio Summary (What have you learned from this financial goal-setting process?)</label>
                        <textarea class="w-full p-2 border border-gray-300 rounded-md" rows="4" data-ai-check="true" data-assessment-weight="4" placeholder="Summarize key insights and how this plan will guide your financial decisions..."></textarea>
                        <div class="mt-2 hidden feedback-container text-green-600 text-sm"></div>
                    </div>
                    
                    <button class="pfl-button px-6 py-2 rounded-lg mt-2 transition duration-200 hover:shadow-xl hover:-translate-y-1">Complete Portfolio</button>
                </div>
            </section>
            
            <!-- Reflection Section -->
            <section id="reflection" class="mt-12">
                <h2 class="text-2xl font-bold text-gray-900 section-title">Reflection</h2>
                
                <div class="discussion-prompt">
                    <h3 class="text-lg font-semibold text-indigo-800 mb-2">Final Reflection</h3>
                    <p class="text-gray-700 mb-3">Take a moment to reflect on your financial goal setting journey. How do you think the techniques you've learned today will help you achieve your financial goals in the future?</p>
                    <textarea class="w-full p-2 border border-gray-300 rounded-md" rows="4" data-ai-check="true" data-assessment-weight="5" placeholder="Share your thoughts and reflections here..."></textarea>
                    <div class="mt-2 hidden feedback-container text-green-600 text-sm"></div>
                </div>
                
                <div class="flex justify-end mt-8">
                    <a href="chapter-1-5-day1.html" class="pfl-button px-4 py-2 rounded-md font-medium transition flex items-center hover:shadow-xl hover:-translate-y-1">
                        Continue to Chapter 1.5
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 ml-2" viewBox="0 0 20 20" fill="currentColor">
                            <path fill-rule="evenodd" d="M10.293 3.293a1 1 0 011.414 0l6 6a1 1 0 010 1.414l-6 6a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-4.293-4.293a1 1 0 010-1.414z" clip-rule="evenodd" />
                        </svg>
                    </a>
                </div>
            </section>
            
            <!-- Toast Notification -->
            <div id="toast" class="toast-notification">
                <div class="flex items-center">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" viewBox="0 0 20 20" fill="currentColor">
                        <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" />
                    </svg>
                    <span id="toast-message">Your progress has been saved!</span>
                </div>
            </div>
            
            <!-- No additional content needed here - removed duplicate footer -->
            
            <script>
                // Initialize interactive elements
                document.addEventListener('DOMContentLoaded', () => {
                    // Remove any opacity or grey styling from all fields and milestone sections
                    document.querySelectorAll('input, select, textarea').forEach(field => {
                        field.style.opacity = '';
                        field.style.filter = '';
                        field.style.pointerEvents = '';
                    });
                    
                    document.querySelectorAll('.milestone-section').forEach(section => {
                        section.classList.remove('opacity-60', 'pointer-events-none');
                        section.style.opacity = '';
                    });
                    
                    // Override any focus/blur handlers that might cause greying
                    document.querySelectorAll('input, select, textarea').forEach(field => {
                        field.onfocus = function() {
                            this.style.opacity = '';
                            this.style.filter = '';
                            this.style.backgroundColor = '';
                        };
                        field.onblur = function() {
                            this.style.opacity = '';
                            this.style.filter = '';
                            this.style.backgroundColor = '';
                        };
                    });
                    
                    // Create objects to store milestone data
                    let shortTermMilestoneData = {
                        0: {}, 1: {}, 2: {}, 3: {}, 4: {}
                    };
                    
                    let longTermMilestoneData = {
                        0: {}, 1: {}, 2: {}, 3: {}, 4: {}
                    };
                    
                    // Function to save form data from a container to storage object
                    function saveFormData(container, storageObj, milestoneIndex) {
                        // Initialize milestone data object if it doesn't exist
                        if (!storageObj[milestoneIndex]) {
                            storageObj[milestoneIndex] = {};
                        }
                        
                        // Save text inputs and dates
                        container.querySelectorAll('input[type="text"], input[type="date"], textarea').forEach(input => {
                            const id = input.id || generateId(input);
                            storageObj[milestoneIndex][id] = input.value;
                        });
                        
                        // Save checkboxes
                        container.querySelectorAll('input[type="checkbox"]').forEach(checkbox => {
                            const id = checkbox.id || generateId(checkbox);
                            storageObj[milestoneIndex][id] = checkbox.checked;
                        });
                        
                        // Save selects
                        container.querySelectorAll('select').forEach(select => {
                            const id = select.id || generateId(select);
                            storageObj[milestoneIndex][id] = select.selectedIndex;
                        });
                    }
                    
                    // Function to load form data from storage object to container
                    function loadFormData(container, storageObj, milestoneIndex) {
                        if (!storageObj[milestoneIndex]) {
                            return; // No data saved for this milestone
                        }
                        
                        // Load text inputs and dates
                        container.querySelectorAll('input[type="text"], input[type="date"], textarea').forEach(input => {
                            const id = input.id || generateId(input);
                            if (storageObj[milestoneIndex][id] !== undefined) {
                                input.value = storageObj[milestoneIndex][id];
                            }
                        });
                        
                        // Load checkboxes
                        container.querySelectorAll('input[type="checkbox"]').forEach(checkbox => {
                            const id = checkbox.id || generateId(checkbox);
                            if (storageObj[milestoneIndex][id] !== undefined) {
                                checkbox.checked = storageObj[milestoneIndex][id];
                            }
                        });
                        
                        // Load selects
                        container.querySelectorAll('select').forEach(select => {
                            const id = select.id || generateId(select);
                            if (storageObj[milestoneIndex][id] !== undefined && select.options.length > 0) {
                                select.selectedIndex = storageObj[milestoneIndex][id];
                            }
                        });
                    }
                    
                    // Generate a unique ID for elements without one
                    function generateId(element) {
                        if (!element.dataset.autoId) {
                            element.dataset.autoId = 'auto-id-' + Math.random().toString(36).substr(2, 9);
                        }
                        return element.dataset.autoId;
                    }
                    
                    // Initialize the current milestone indices
                    let currentShortTermMilestone = 0;
                    let currentLongTermMilestone = 0;
                    
                    // Set up timeline milestone interactions for short-term goals
                    document.querySelectorAll('[data-milestone]').forEach(milestone => {
                        milestone.addEventListener('click', function() {
                            // Highlight selected milestone
                            document.querySelectorAll('[data-milestone]').forEach(m => {
                                m.classList.remove('bg-indigo-500');
                                m.classList.add('bg-gray-400');
                            });
                            this.classList.remove('bg-gray-400');
                            this.classList.add('bg-indigo-500');
                            
                            // Update progress bar width
                            const milestoneIndex = parseInt(this.getAttribute('data-milestone'));
                            const percentage = (milestoneIndex / 4) * 100;
                            this.parentElement.querySelector('.bg-indigo-500.rounded-full').style.width = `${percentage}%`;
                            
                            // Update current milestone index
                            currentShortTermMilestone = milestoneIndex;
                            
                            // Don't scroll for milestone 1, only for 2-5
                            if (milestoneIndex > 0) {
                                // If milestone index > 0, copy previous milestone data to guide user
                                const prevMilestone = milestoneIndex - 1;
                                const prevFields = document.querySelectorAll(`[data-milestone="${prevMilestone}"]`);
                                const currentFields = document.querySelectorAll(`[data-milestone="${milestoneIndex}"]`);
                                
                                currentFields.forEach(field => {
                                    const fieldName = field.getAttribute('data-field');
                                    if (!field.value) { // Only prepopulate if field is empty
                                        // Find matching previous field
                                        const prevField = Array.from(prevFields).find(p => 
                                            p.getAttribute('data-field') === fieldName);
                                        
                                        if (prevField && prevField.value) {
                                            if (fieldName === 'date' && field.type === 'date') {
                                                // Add 2 months to the previous date
                                                try {
                                                    const prevDate = new Date(prevField.value);
                                                    prevDate.setMonth(prevDate.getMonth() + 2);
                                                    field.value = prevDate.toISOString().split('T')[0];
                                                } catch (e) {
                                                    // If date parsing fails, don't set a value
                                                }
                                            } else if (fieldName === 'amount') {
                                                // Add a percentage of the total goal
                                                try {
                                                    const prevAmount = parseFloat(prevField.value);
                                                    const goalAmount = 800; // From short-term goal
                                                    const increment = goalAmount / 4;
                                                    field.value = (prevAmount + increment).toFixed(2);
                                                } catch (e) {
                                                    // If parsing fails, don't set a value
                                                }
                                            } else {
                                                field.value = prevField.value;
                                            }
                                        }
                                    }
                                });
                                
                                // Only scroll for milestones 2-5
                                const currentSection = document.getElementById(`milestone-${milestoneIndex}`);
                                if (currentSection) {
                                    currentSection.scrollIntoView({ behavior: 'smooth', block: 'start' });
                                }
                            }
                        });
                    });
                    
                    // Add action button functionality for each milestone
                    document.querySelectorAll('[id^="add-action-btn-"]').forEach(button => {
                        button.addEventListener('click', function() {
                            const milestoneIndex = this.id.split('-').pop();
                            const actionsContainer = this.parentElement;
                            const actionInputs = actionsContainer.querySelectorAll('input[type="text"]');
                            const actionCount = actionInputs.length + 1;
                            
                            // Create a new action input
                            const newActionDiv = document.createElement('div');
                            newActionDiv.innerHTML = `
                                <input type="text" data-milestone="${milestoneIndex}" data-field="action${actionCount}"
                                class="w-full p-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500"
                                placeholder="Action ${actionCount}">
                            `;
                            
                            // Insert before the add button
                            actionsContainer.insertBefore(newActionDiv, this);
                        });
                    });
                    
                    // Remove opacity from all milestone sections
                    document.querySelectorAll('.milestone-section').forEach(section => {
                        section.classList.remove('opacity-60', 'pointer-events-none');
                        section.style.opacity = '';
                    });

                    // Let's remove the code that was replacing long-term goal titles
                    // We'll directly rename them individually later
                    
                    // Set up timeline milestone interactions for long-term goals
                    document.querySelectorAll('[data-milestone-long]').forEach(milestone => {
                        milestone.addEventListener('click', function() {
                            // Highlight selected milestone
                            document.querySelectorAll('[data-milestone-long]').forEach(m => {
                                m.classList.remove('bg-purple-500');
                                m.classList.add('bg-gray-400');
                            });
                            this.classList.remove('bg-gray-400');
                            this.classList.add('bg-purple-500');
                            
                            // Update progress bar width
                            const milestoneIndex = parseInt(this.getAttribute('data-milestone-long'));
                            const percentage = (milestoneIndex / 4) * 100;
                            this.parentElement.querySelector('.bg-purple-500.rounded-full').style.width = `${percentage}%`;
                            
                            // Update current milestone index
                            currentLongTermMilestone = milestoneIndex;
                            
                            // Update which milestone section is active
                            const milestoneDetails = document.getElementById('milestone-details-long');
                            const milestoneSections = milestoneDetails.querySelectorAll('.milestone-section');
                            
                            // Store previous values for each field to show in greyed out state
                            if (milestoneIndex > 0) {
                                // Save the previous milestone's data first
                                const prevMilestoneSection = milestoneSections[milestoneIndex-1];
                                if (prevMilestoneSection) {
                                    // Create fields to show previous values in greyed-out state
                                    prevMilestoneSection.querySelectorAll('input[type="text"], input[type="date"]').forEach(input => {
                                        const fieldName = input.getAttribute('data-field');
                                        const prevValue = input.value;
                                        
                                        // Store the value for the current milestone to reference
                                        if (!longTermMilestoneData[milestoneIndex]) {
                                            longTermMilestoneData[milestoneIndex] = {};
                                        }
                                        
                                        // Only prepopulate if no existing value
                                        if (fieldName && prevValue && !longTermMilestoneData[milestoneIndex][fieldName]) {
                                            const currentMilestoneSection = milestoneSections[milestoneIndex];
                                            if (currentMilestoneSection) {
                                                const currentField = currentMilestoneSection.querySelector(`[data-field="${fieldName}"]`);
                                                if (currentField && !currentField.value) {
                                                    // For actions and date fields, increment appropriately
                                                    if (fieldName === 'date' && currentField.type === 'date') {
                                                        // Add a year to the date for the next milestone
                                                        try {
                                                            const prevDate = new Date(prevValue);
                                                            prevDate.setFullYear(prevDate.getFullYear() + 1);
                                                            currentField.value = prevDate.toISOString().split('T')[0];
                                                        } catch (e) {
                                                            // If date parsing fails, just leave it blank
                                                        }
                                                    } else if (fieldName === 'amount') {
                                                        // For amount, add a percentage (25% increment for each milestone)
                                                        try {
                                                            const prevAmount = parseFloat(prevValue);
                                                            const goalAmount = 5000; // From long-term goal
                                                            const increment = goalAmount / 4;
                                                            currentField.value = (prevAmount + increment).toFixed(2);
                                                        } catch (e) {
                                                            // If parsing fails, just leave it blank
                                                        }
                                                    }
                                                }
                                            }
                                        }
                                    });
                                }
                            }
                            
                            // Only scroll for milestones 2-5 (indices 1-4)
                            if (milestoneIndex > 0 && milestoneDetails) {
                                milestoneDetails.scrollIntoView({ behavior: 'smooth', block: 'start' });
                            }
                            
                            // Remove any opacity or pointer-events styling from all input fields
                            document.querySelectorAll('input, select, textarea').forEach(field => {
                                field.style.opacity = '';
                                field.style.filter = '';
                                field.style.pointerEvents = '';
                            })
                        });
                    });
                    
                    // Auto-save field data as it's entered
                    document.querySelectorAll('#milestone-details input, #milestone-details select, #milestone-details textarea').forEach(field => {
                        field.addEventListener('change', function() {
                            const milestoneIndex = parseInt(this.getAttribute('data-milestone') || '0');
                            const fieldName = this.getAttribute('data-field') || 'unknown';
                            
                            // Initialize milestone data object if it doesn't exist
                            if (!shortTermMilestoneData[milestoneIndex]) {
                                shortTermMilestoneData[milestoneIndex] = {};
                            }
                            
                            // Save the value
                            if (this.type === 'checkbox') {
                                shortTermMilestoneData[milestoneIndex][fieldName] = this.checked;
                            } else if (this.tagName === 'SELECT') {
                                shortTermMilestoneData[milestoneIndex][fieldName] = this.selectedIndex;
                            } else {
                                shortTermMilestoneData[milestoneIndex][fieldName] = this.value;
                            }
                            
                            // Save to localStorage
                            try {
                                localStorage.setItem('shortTermMilestoneData', JSON.stringify(shortTermMilestoneData));
                            } catch (e) {
                                console.log('Error saving to localStorage', e);
                            }
                        });
                    });
                    
                    document.querySelectorAll('#milestone-details-long input, #milestone-details-long select, #milestone-details-long textarea').forEach(field => {
                        field.addEventListener('change', function() {
                            const milestoneIndex = parseInt(this.getAttribute('data-milestone-long') || '0');
                            const fieldName = this.getAttribute('data-field') || 'unknown';
                            
                            // Initialize milestone data object if it doesn't exist
                            if (!longTermMilestoneData[milestoneIndex]) {
                                longTermMilestoneData[milestoneIndex] = {};
                            }
                            
                            // Save the value
                            if (this.type === 'checkbox') {
                                longTermMilestoneData[milestoneIndex][fieldName] = this.checked;
                            } else if (this.tagName === 'SELECT') {
                                longTermMilestoneData[milestoneIndex][fieldName] = this.selectedIndex;
                            } else {
                                longTermMilestoneData[milestoneIndex][fieldName] = this.value;
                            }
                            
                            // Save to localStorage
                            try {
                                localStorage.setItem('longTermMilestoneData', JSON.stringify(longTermMilestoneData));
                            } catch (e) {
                                console.log('Error saving to localStorage', e);
                            }
                        });
                    });
                    
                    // Attempt to load goals from localStorage
                    try {
                        const savedGoals = JSON.parse(localStorage.getItem('smartGoals'));
                        if (savedGoals) {
                            // If goals were found, populate them
                            const shortGoalEl = document.getElementById('short-term-goal');
                            const longGoalEl = document.getElementById('long-term-goal');
                            
                            if (shortGoalEl && savedGoals.shortTerm && savedGoals.shortTerm.complete) {
                                shortGoalEl.textContent = savedGoals.shortTerm.complete;
                            }
                            
                            if (longGoalEl && savedGoals.longTerm && savedGoals.longTerm.complete) {
                                longGoalEl.textContent = savedGoals.longTerm.complete;
                            }
                        }
                    } catch (e) {
                        console.log('No saved goals found or error parsing them');
                    }
                    
                    // Try to load timeline data from localStorage
                    try {
                        const savedTimelineData = JSON.parse(localStorage.getItem('timelineData'));
                        if (savedTimelineData) {
                            // Load saved data into our objects
                            if (savedTimelineData.shortTerm) {
                                shortTermMilestoneData = savedTimelineData.shortTerm;
                                // Load data for current milestone
                                loadFormData(document.getElementById('milestone-details'), shortTermMilestoneData, currentShortTermMilestone);
                            }
                            
                            if (savedTimelineData.longTerm) {
                                longTermMilestoneData = savedTimelineData.longTerm;
                                // Load data for current milestone
                                loadFormData(document.getElementById('milestone-details-long'), longTermMilestoneData, currentLongTermMilestone);
                            }
                        }
                    } catch (e) {
                        console.log('No saved timeline data found or error parsing it');
                    }
                });
                
                // Station progress tracking
                let completedStations = 0;
                const totalStations = 3;
                
                function saveStation(stationNumber) {
                    // For the Timeline Builder station, save all milestone data
                    if (stationNumber === 1) {
                        // Save current milestone data
                        const shortTermDetails = document.getElementById('milestone-details');
                        saveFormData(shortTermDetails, shortTermMilestoneData, currentShortTermMilestone);
                        
                        const longTermDetails = document.getElementById('milestone-details-long');
                        saveFormData(longTermDetails, longTermMilestoneData, currentLongTermMilestone);
                        
                        // Save to localStorage for persistence
                        try {
                            localStorage.setItem('timelineData', JSON.stringify({
                                shortTerm: shortTermMilestoneData,
                                longTerm: longTermMilestoneData
                            }));
                        } catch (e) {
                            console.log('Error saving timeline data to localStorage');
                        }
                    }
                    
                    // Show save confirmation
                    showToast(`Station ${stationNumber} saved successfully!`);
                    
                    // Update progress tracking if this is the first time completing this station
                    if (!document.querySelector(`.station-indicator:nth-child(${stationNumber})`).classList.contains('active')) {
                        completedStations++;
                        updateProgress();
                    }
                }
                
                function updateProgress() {
                    // Update progress bar
                    const progressBar = document.querySelector('.bg-gradient-to-r.from-indigo-600.to-purple-600');
                    const progressText = document.querySelector('.font-medium');
                    
                    if (progressBar && progressText) {
                        const percentage = (completedStations / totalStations) * 100;
                        progressBar.style.width = `${percentage}%`;
                        progressText.textContent = `${completedStations}/${totalStations} stations`;
                    }
                    
                    // Update station indicators
                    updateStationIndicators();
                }
                
                function updateStationIndicators() {
                    const indicators = document.querySelectorAll('.station-indicator');
                    
                    for (let i = 0; i < completedStations && i < indicators.length; i++) {
                        indicators[i].classList.add('active');
                    }
                }
                
                // Show toast notification
                function showToast(message, type = 'success') {
                    const toast = document.getElementById('toast');
                    const toastMessage = document.getElementById('toast-message');
                    
                    // Set message text
                    toastMessage.textContent = message;
                    
                    // Adjust styling based on message type
                    if (type === 'warning') {
                        toast.style.backgroundColor = '#f59e0b';
                    } else {
                        toast.style.backgroundColor = '#4f46e5';
                    }
                    
                    // Show toast
                    toast.classList.add('show');
                    
                    // Hide toast after delay
                    setTimeout(() => {
                        toast.classList.remove('show');
                    }, 3000);
                }
                
                // AI feedback system for reflections
                document.querySelectorAll('[data-ai-check="true"]').forEach(element => {
                    element.addEventListener('blur', function() {
                        if (this.value.length > 10) {
                            const feedbackOptions = [
                                "Excellent reflection! You've clearly considered how this connects to your personal financial journey.",
                                "Good thinking! Your response shows a thoughtful approach to financial goal setting.",
                                "Great insight! You're making important connections between goal setting and real-world application.",
                                "Nice work! Your reflections demonstrate a solid understanding of effective financial planning."
                            ];
                            
                            const feedback = feedbackOptions[Math.floor(Math.random() * feedbackOptions.length)];
                            
                            const feedbackContainer = this.parentElement.querySelector('.feedback-container');
                            if (feedbackContainer) {
                                feedbackContainer.textContent = feedback;
                                feedbackContainer.classList.remove('hidden');
                            }
                        }
                    });
                });
            </script>
        </div>
    </div>
    <footer class="bg-gradient-to-r from-indigo-900 to-purple-900 text-white py-8 mt-12">
        <div class="container mx-auto px-4">
            <div class="grid md:grid-cols-3 gap-8">
                <div>
                    <div class="flex items-center mb-4">
                        <div class="flex justify-center items-center h-10 w-10 rounded bg-white/20 text-white font-bold">
                            PFL
                        </div>
                        <span class="ml-3 text-xl font-bold">PFL Academy</span>
                    </div>
                    <p class="text-indigo-200">Empowering students with financial literacy skills for life.</p>
                </div>
                <div>
                    <h3 class="text-lg font-semibold mb-4">Quick Links</h3>
                    <ul class="space-y-2">
                        <li><a href="#" class="text-indigo-200 hover:text-white transition-colors">Home</a></li>
                        <li><a href="#" class="text-indigo-200 hover:text-white transition-colors">Curriculum</a></li>
                        <li><a href="#" class="text-indigo-200 hover:text-white transition-colors">Resources</a></li>
                        <li><a href="#" class="text-indigo-200 hover:text-white transition-colors">Help Center</a></li>
                    </ul>
                </div>
                <div>
                    <h3 class="text-lg font-semibold mb-4">Contact</h3>
                    <p class="text-indigo-200">If you need assistance, please contact your instructor or email support.</p>
                </div>
            </div>
            <div class="border-t border-indigo-800 mt-8 pt-6 text-center text-indigo-200">
                <p>&copy; 2025 PFL Academy. All rights reserved.</p>
            </div>
        </div>
    </footer>
    
    <script>
        // Station navigation
        let currentStation = 0;
        const stations = document.querySelectorAll('.learning-station');
        const stationIndicators = document.querySelectorAll('.station-indicator');
        
        // Initialize interactive elements
        document.addEventListener('DOMContentLoaded', () => {
            // Set up chart if there's a chart in this chapter
            // No charts to initialize in this chapter
            
            // Add smooth transitions between stations
            stations.forEach((station, index) => {
                station.style.opacity = '0';
                station.style.transform = 'translateY(20px)';
                
                // Use setTimeout to create a staggered animation effect
                setTimeout(() => {
                    station.style.opacity = '1';
                    station.style.transform = 'translateY(0)';
                    station.style.transition = 'opacity 0.5s ease, transform 0.5s ease';
                }, 100 * (index + 1));
            });
            
            updateStationIndicators();
        });
        
        // Save button functionality with toast notifications
        document.querySelectorAll('.pfl-button').forEach(button => {
            button.addEventListener('click', function() {
                // Get the parent station if this is a station save button
                const parentStation = this.closest('.learning-station');
                
                if (parentStation) {
                    // Check if any inputs in this station have content
                    const inputs = parentStation.querySelectorAll('input, textarea');
                    let hasContent = false;
                    
                    inputs.forEach(input => {
                        if (input.value.trim().length > 0) {
                            hasContent = true;
                        }
                    });
                    
                    if (hasContent) {
                        // Find station number
                        const stationIndex = Array.from(stations).indexOf(parentStation);
                        showToast(`Station ${stationIndex + 1} saved successfully!`);
                        updateProgress();
                    } else {
                        showToast('Please complete the station before saving.', 'warning');
                    }
                } else {
                    // Handle non-station buttons (e.g., portfolio complete button)
                    showToast('Your portfolio has been saved!');
                    updateProgress();
                }
            });
        });
        
        // AI feedback system 
        document.querySelectorAll('[data-ai-check="true"]').forEach(element => {
            element.addEventListener('blur', function() {
                if (this.value.length > 10) {
                    const feedback = this.nextElementSibling;
                    if (feedback && feedback.classList.contains('feedback-container')) {
                        feedback.textContent = "Thank you for your thoughtful response! Your answer shows good understanding of the concepts.";
                        feedback.classList.remove('hidden');
                    }
                }
            });
        });
        
        // Show toast notification
        function showToast(message, type = 'success') {
            const toast = document.getElementById('toast');
            const toastMessage = document.getElementById('toast-message');
            
            // Set message
            toastMessage.textContent = message;
            
            // Set type-specific styling
            if (type === 'warning') {
                toast.style.backgroundColor = '#f59e0b';
            } else {
                toast.style.backgroundColor = '#4f46e5';
            }
            
            // Show toast
            toast.classList.add('show');
            
            // Hide toast after delay
            setTimeout(() => {
                toast.classList.remove('show');
            }, 3000);
        }
        
        // Track progress for the sidebar
        function updateProgress() {
            const stations = document.querySelectorAll('.learning-station');
            let completed = 0;
            
            stations.forEach(station => {
                // Check if any inputs or textareas in this station have content
                const inputs = station.querySelectorAll('input, textarea');
                let hasContent = false;
                
                inputs.forEach(input => {
                    if (input.value.trim().length > 0) {
                        hasContent = true;
                    }
                });
                
                if (hasContent) {
                    completed++;
                }
            });
            
            // Update progress bar
            const progressBar = document.querySelector('.from-indigo-600.to-purple-600.h-2\\.5');
            const progressText = document.querySelector('.font-medium');
            
            const percentage = Math.round((completed / stations.length) * 100);
            progressBar.style.width = `${percentage}%`;
            progressText.textContent = `${completed}/${stations.length} stations`;
            
            updateStationIndicators();
        }
        
        // Update station indicators
        function updateStationIndicators() {
            const stations = document.querySelectorAll('.learning-station');
            const stationIndicators = document.querySelectorAll('.station-indicator');
            
            stations.forEach((station, index) => {
                // Check if this station has content
                const inputs = station.querySelectorAll('input, textarea');
                let hasContent = false;
                
                inputs.forEach(input => {
                    if (input.value.trim().length > 0) {
                        hasContent = true;
                    }
                });
                
                // Update the corresponding indicator
                if (hasContent && stationIndicators[index]) {
                    stationIndicators[index].classList.add('active');
                }
            });
            
            // Determine current station based on scroll position
            updateCurrentStationByScroll();
        }
        
        // Update current station based on scroll position
        function updateCurrentStationByScroll() {
            const scrollPosition = window.scrollY;
            const stations = document.querySelectorAll('.learning-station');
            const stationIndicators = document.querySelectorAll('.station-indicator');
            
            let foundCurrent = false;
            
            stations.forEach((station, index) => {
                const stationTop = station.offsetTop - 150;
                const stationBottom = stationTop + station.offsetHeight;
                
                if (scrollPosition >= stationTop && scrollPosition < stationBottom && !foundCurrent) {
                    // This is the current visible station
                    currentStation = index;
                    foundCurrent = true;
                    
                    // Update the indicators to show which one is current
                    stationIndicators.forEach((indicator, i) => {
                        if (i === index) {
                            indicator.classList.add('active');
                            indicator.style.transform = 'scale(1.3)';
                        } else if (indicator.classList.contains('active')) {
                            indicator.style.transform = 'scale(1.0)';
                        }
                    });
                }
            });
        }
        
        // Highlight active section in navigation based on scroll position
        window.addEventListener('DOMContentLoaded', () => {
            const objectives = document.querySelector('#learning-objectives');
            const sections = document.querySelectorAll('section');
            const navLinks = document.querySelectorAll('#section-navigation a');
            
            function updateActiveSection() {
                const scrollPosition = window.scrollY;
                
                // First reset all links
                navLinks.forEach(link => {
                    link.classList.remove('text-indigo-700', 'font-medium');
                    link.classList.add('text-gray-700');
                });
                
                // Check Learning Objectives first
                if (objectives) {
                    const objectivesTop = objectives.offsetTop - 100;
                    const objectivesBottom = objectivesTop + objectives.offsetHeight;
                    
                    if (scrollPosition >= objectivesTop && scrollPosition < objectivesBottom) {
                        const objectivesLink = document.querySelector('#section-navigation a[href="#learning-objectives"]');
                        if (objectivesLink) {
                            objectivesLink.classList.remove('text-gray-700');
                            objectivesLink.classList.add('text-indigo-700', 'font-medium');
                        }
                        return;
                    }
                }
                
                // Then check all other sections
                sections.forEach((section) => {
                    const sectionTop = section.offsetTop - 100;
                    const sectionBottom = sectionTop + section.offsetHeight;
                    
                    if (scrollPosition >= sectionTop && scrollPosition < sectionBottom) {
                        // Add active class to corresponding link
                        const correspondingLink = document.querySelector(`#section-navigation a[href="#${section.id}"]`);
                        if (correspondingLink) {
                            correspondingLink.classList.remove('text-gray-700');
                            correspondingLink.classList.add('text-indigo-700', 'font-medium');
                        }
                    }
                });
                
                // Also update station indicators based on scroll
                updateCurrentStationByScroll();
            }
            
            // Update active section when scrolling
            window.addEventListener('scroll', updateActiveSection);
            
            // Update active section on page load
            updateActiveSection();
        });
        
        // Custom scripts for Financial Goal Setting
        // Enable timeline interactions
        document.querySelectorAll('[data-milestone]').forEach(milestone => {
            milestone.addEventListener('click', updateMilestone);
        });
        
        document.querySelectorAll('[data-milestone-long]').forEach(milestone => {
            milestone.addEventListener('click', updateMilestoneLong);
        });
    </script>
</body>
</html>